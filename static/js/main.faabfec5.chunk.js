(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{181:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(16),c=a.n(r),o=(a(70),a(72),a(17)),l=a(18),u=a(20),i=a(19),d=a(21),m=(a(74),a(22)),p=a(27),k=(a(76),a(78),function(e){var t=e.title,a=e.checked,n=e.id,r=e.taskCompleted;return s.a.createElement("div",{className:"checkbox"},s.a.createElement("input",{type:"checkbox",checked:a,id:n,onChange:function(){return r(n)}}),s.a.createElement("label",{className:"task__name",htmlFor:n},t))}),h=function(e){var t=e.title,a=e.completed,n=e.id,r=e.taskCompleted;return s.a.createElement("div",{className:"task"},s.a.createElement(k,{title:t,checked:a,id:n,taskCompleted:r}))},f=(a(80),a(63)),b=a.n(f),v=(a(82),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={open:!1,taskName:"",error:null},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault();var t=null,n=a.props,s=n.addNewTask,r=n.userId,c=a.state.taskName;c.length||(t="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),t?a.setState({error:t}):(a.state.error&&a.setState({error:""}),s(r,c),a.setState({open:!1}))},a.taskNameHandleChange=function(e){a.setState({taskName:e.target.value})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",className:"task-add",onClick:this.handleClickOpen}),s.a.createElement(b.a,{onClose:this.handleClose,open:this.state.open,classes:{paper:"popup"}},s.a.createElement("div",{className:"add-task-form"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("p",{className:"add-task-form__title"},"Add New Task"),s.a.createElement("div",{className:"add-task-form__form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",value:this.state.taskName,onChange:this.taskNameHandleChange}),this.state.error&&s.a.createElement("p",null,this.state.error))),s.a.createElement("div",{className:"add-task-form__button"},s.a.createElement("button",{type:"submit",className:"button button--primary button--full-width"},"OK")),s.a.createElement("button",{type:"button",className:"add-task-form__close",onClick:this.handleClose})))))}}]),t}(s.a.Component)),E=function(e){var t=e.tasks,a=e.addNewTask,n=e.userId,r=e.taskCompleted;return s.a.createElement("div",{className:"tasks"},s.a.createElement("div",{className:"tasks-list"},t&&t.map(function(e){return s.a.createElement(h,Object.assign({key:e.id},e,{taskCompleted:r}))})),s.a.createElement(v,{addNewTask:a,userId:n}))},j=a(38),O=a.n(j);a(179).polyfill();var N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={tasks:{},userId:1},a.fetchTasksByUserId=function(e){return O()("https://jsonplaceholder.typicode.com/users/".concat(e,"/todos")).then(function(e){return e.json()}).then(function(t){var n=t.filter(function(t){return t.userId===e}).reduce(function(e,t){return Object(p.a)({},e,Object(m.a)({},t.id,t))},{});a.setState({tasks:n})}).catch(function(e){return console.log(e)})},a.addNewTask=function(e,t){return O()("https://jsonplaceholder.typicode.com/todos",{method:"POST",body:{title:t,userId:e,completed:!1}}).then(function(e){return e.json()}).then(function(n){var s=n.id;a.setState({tasks:Object(p.a)({},a.state.tasks,Object(m.a)({},s,{id:s,userId:e,title:t,completed:!1}))})}).catch(function(e){return console.log("REQUEST FAILURE")})},a.taskCompleted=function(e){var t=a.state.tasks[e].completed;a.setState({tasks:Object(p.a)({},a.state.tasks,Object(m.a)({},e,Object(p.a)({},a.state.tasks[e],{completed:!t})))})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasksByUserId(this.state.userId)}},{key:"render",value:function(){var e=this,t=Object.keys(this.state.tasks).map(function(t){return e.state.tasks[t]});return s.a.createElement(E,{tasks:t,userId:this.state.userId,addNewTask:this.addNewTask,taskCompleted:this.taskCompleted})}}]),t}(s.a.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(N,null))}}]),t}(n.Component);c.a.render(s.a.createElement(y,null),document.getElementById("root"))},65:function(e,t,a){e.exports=a(181)},70:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){}},[[65,2,1]]]);
//# sourceMappingURL=main.faabfec5.chunk.js.map